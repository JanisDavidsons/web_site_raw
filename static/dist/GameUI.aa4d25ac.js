parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Sln7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MAX_LEVEL=exports.SPEED=exports.CELLS_VERTICAL=exports.CELLS_HORIZONTAL=void 0;var e=70;exports.CELLS_HORIZONTAL=e;var r=35;exports.CELLS_VERTICAL=r;var L=100;exports.SPEED=L;var E=10;exports.MAX_LEVEL=E;
},{}],"s50y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cell=void 0;var e=function(){return function(e,t){this.x=e,this.y=t}}();exports.Cell=e;
},{}],"idYR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Grid=void 0;var e=require("./Cell"),t=function(){function t(t){this.apples=[new e.Cell(33,22),new e.Cell(35,22),new e.Cell(37,22),new e.Cell(39,22),new e.Cell(41,22)],this.configuration=t}return t.prototype.seed=function(){for(var t=0;t<this.configuration.apples;t++){var n=Math.floor(Math.random()*this.configuration.nbCellsX),i=Math.floor(Math.random()*this.configuration.nbCellsY);this.apples.push(new e.Cell(n,i))}},t.prototype.isAppleInside=function(e){return void 0!==this.getApples().find(function(t){return t.x===e.x&&t.y==e.y})},t.prototype.removeApple=function(e){var t=this.apples.find(function(t){return t.x===e.x&&t.y==e.y});if(t){var n=this.apples.indexOf(t);this.apples.splice(n,1)}},t.prototype.isDone=function(){return 0===this.apples.length},t.prototype.getApples=function(){return this.apples},t}();exports.Grid=t;
},{"./Cell":"s50y"}],"gXGI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Snake=void 0;var t=require("./Cell"),e=function(){function e(){this.head=new t.Cell(2,0),this.tail=[new t.Cell(0,0),new t.Cell(1,0)],this.currentDirection="Right",this.growCells=0}return e.prototype.setDirection=function(t){"Right"===this.currentDirection&&"Left"===t||"Up"===this.currentDirection&&"Down"===t||"Down"===this.currentDirection&&"Up"===t||"Left"===this.currentDirection&&"Right"===t||(this.currentDirection=t)},e.prototype.move=function(){var e=new t.Cell(this.head.x,this.head.y);"Right"===this.currentDirection?this.head=new t.Cell(this.head.x+1,this.head.y):"Down"===this.currentDirection?this.head=new t.Cell(this.head.x,this.head.y+1):"Up"===this.currentDirection?this.head=new t.Cell(this.head.x,this.head.y-1):"Left"===this.currentDirection&&(this.head=new t.Cell(this.head.x-1,this.head.y)),this.growCells>0?this.growCells=this.growCells-1:this.tail.shift(),this.tail.push(e)},e.prototype.grow=function(){this.growCells=3},e.prototype.getHead=function(){return this.head},e.prototype.isSnake=function(t){return void 0!==this.getTail().find(function(e){return e.x===t.x&&e.y===t.y})},e.prototype.getDirection=function(){return this.currentDirection},e.prototype.getTail=function(){return this.tail},e}();exports.Snake=e;
},{"./Cell":"s50y"}],"iq34":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var t=require("./Grid"),i=require("./Snake"),e=require("./Configuration"),n=function(){function n(e){this.score=0,this.running=!1,this.configuration=e,this.snake=new i.Snake,this.grid=new t.Grid(this.configuration),this.nextTick=0,this.running=!0}return n.prototype.getSnake=function(){return this.snake},n.prototype.getConfiguration=function(){return this.configuration},n.prototype.shouldUpdate=function(t){return this.running&&t>=this.nextTick},n.prototype.update=function(t){switch(this.nextTick=t+this.configuration.speed,this.snake.move(),this.checkState()){case-1:this.die();break;case 1:this.snake.grow(),this.score+=100,this.grid.removeApple(this.snake.getHead()),this.grid.isDone()&&this.levelUp()}},n.prototype.checkState=function(){var t=this.snake.getHead();return this.isOutside(t)||this.snake.isSnake(t)?-1:this.grid.isAppleInside(t)?1:0},n.prototype.levelUp=function(){this.score+=1e3,this.configuration.level++,this.configuration.level<e.MAX_LEVEL?(this.configuration.speed-=7,this.grid.seed()):this.win()},n.prototype.win=function(){this.stop()},n.prototype.die=function(){this.stop()},n.prototype.isOutside=function(t){var i=this.configuration,e=i.nbCellsX,n=i.nbCellsY;return t.x<0||t.x>=e||t.y<0||t.y>=n},n.prototype.getScore=function(){return this.score},n.prototype.getGrid=function(){return this.grid},n.prototype.stop=function(){this.running=!1},n}();exports.Game=n;
},{"./Grid":"idYR","./Snake":"gXGI","./Configuration":"Sln7"}],"GYlz":[function(require,module,exports) {
"use strict";var t=require("./Configuration"),e=require("./Game"),i=20,a=2,n=function(){function t(t,e){this.canvas=t,this.game=e,requestAnimationFrame(this.draw.bind(this)),window.addEventListener("keydown",this.onKeyDown.bind(this),!1),window.focus()}return t.prototype.draw=function(t){var e=this.canvas.getContext("2d");this.game.shouldUpdate(t)&&(this.drawBackground(e),this.drawGrid(e),this.drawBrand(e),this.drawScore(e),this.drawSnake(e),this.drawApples(e),this.game.update(t)),requestAnimationFrame(this.draw.bind(this))},t.prototype.drawBackground=function(t){var e=this.game.getConfiguration(),i=e.width,a=e.height;t.fillStyle="#4caf50",t.fillRect(0,0,i,a)},t.prototype.drawBrand=function(t){var e=this.game.getConfiguration(),i=(e.width,e.height);t.font=i/2.5+"px Roboto",t.textBaseline="middle",t.textAlign="center",t.fillStyle="rgba(255,255,255,0.75)"},t.prototype.drawScore=function(t){t.font=35*a+"px Arial",t.textAlign="left",t.textBaseline="top",t.fillStyle="rgba(255,255,255,0.75)",t.fillText(c.getScore().toString(),10*a,10*a)},t.prototype.drawGrid=function(t){var e=this.game.getConfiguration(),i=e.width,n=e.height,r=e.cellWidth,l=e.cellHeight,o=1*a;t.strokeStyle="rgba(255,255,255,0.95)",t.lineWidth=o;for(var h=0;h<=i;h+=r)t.beginPath(),t.moveTo(h,0),t.lineTo(h,n),t.stroke();for(var c=0;c<=n;c+=l)t.beginPath(),t.moveTo(0,c),t.lineTo(i,c),t.stroke()},t.prototype.drawApples=function(t){var e=c.getConfiguration(),i=e.cellWidth,n=e.cellHeight,r=1*a;t.fillStyle="#e91e63",c.getGrid().getApples().forEach(function(e){return t.fillRect(i*e.x+r,n*e.y+r,i-2*r,n-2*r)})},t.prototype.drawSnake=function(t){var e=this.game.getSnake(),n=this.game.getConfiguration(),r=n.cellWidth,l=n.cellHeight,o=i*a/10,h=i*a/3,c=r*e.getHead().x,s=l*e.getHead().y;switch(t.fillStyle="#111111",t.fillRect(c,s,r,l),e.getDirection()){case"Up":t.beginPath(),t.arc(c+h,s+h,o,0,2*Math.PI,!1),t.arc(c+2*h,s+h,o,0,2*Math.PI,!1),t.fillStyle="white",t.fill();break;case"Down":t.beginPath(),t.arc(c+h,s+2*h,o,0,2*Math.PI,!1),t.arc(c+2*h,s+2*h,o,0,2*Math.PI,!1),t.fillStyle="white",t.fill();break;case"Right":t.beginPath(),t.arc(c+2*h,s+h,o,0,2*Math.PI,!1),t.arc(c+2*h,s+2*h,o,0,2*Math.PI,!1),t.fillStyle="white",t.fill();break;case"Left":t.beginPath(),t.arc(c+h,s+h,o,0,2*Math.PI,!1),t.arc(c+h,s+2*h,o,0,2*Math.PI,!1),t.fillStyle="white",t.fill()}t.fillStyle="#333333",e.getTail().forEach(function(e){return t.fillRect(r*e.x,l*e.y,r,l)})},t.prototype.onKeyDown=function(t){var e=this.game.getSnake();switch(t.key){case"w":t.preventDefault(),e.setDirection("Up");break;case"s":t.preventDefault(),e.setDirection("Down");break;case"a":t.preventDefault(),e.setDirection("Left");break;case"d":t.preventDefault(),e.setDirection("Right")}},t}(),r=function(){var e=document.getElementById("game"),n=document.createElement("Canvas");return e.appendChild(n),n.style.width=t.CELLS_HORIZONTAL*i+"px",n.style.height=t.CELLS_VERTICAL*i+"px",n.width=t.CELLS_HORIZONTAL*i*a,n.height=t.CELLS_VERTICAL*i*a,n},l=function(e){return{level:0,speed:t.SPEED,width:e.width,height:e.height,nbCellsX:t.CELLS_HORIZONTAL,nbCellsY:t.CELLS_VERTICAL,cellWidth:e.width/t.CELLS_HORIZONTAL,cellHeight:e.height/t.CELLS_VERTICAL,apples:5}},o=r(),h=l(o),c=new e.Game(h);new n(o,c);
},{"./Configuration":"Sln7","./Game":"iq34"}]},{},["GYlz"], null)
//# sourceMappingURL=/GameUI.aa4d25ac.js.map